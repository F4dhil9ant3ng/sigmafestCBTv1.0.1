/* 
* Developer: IBeESNay 
* Tablenay 
* Tabel Responsif Modern 
* sunardi.1135@yahoo.com 
*/ 
if(typeof Tablenay==="undefined"){Tablenay={i18n:{modes:['Mobile responsif','Standar mode','Pilihan kolom'],columns:'Mode Kol<span class=\"a11y-sm\">o</span>m',columnBtnText:'Kolom',columnsDialogError:'Tidak ada kolom yang dapat dipilih.',sort:'Pengurutan'},mustard:'querySelector'in document&&(!window.blackberry||window.WebKitPoint)&&!window.operamini}}if(!Tablenay.config){Tablenay.config={}}if(Tablenay.mustard){jQuery(document.documentElement).addClass('tablenay-enhanced')};(function($){var d="table",classes={toolbar:"tablenay-bar"},events={create:"tablenaycreate",destroy:"tablenaydestroy",refresh:"tablenayrefresh"},defaultMode="stack",initSelector="table[data-tablenay-mode],table[data-tablenay-sortable]";var f=function(a){if(!a){throw new Error("Tablenay memerlukan sebuah elemen.");}this.table=a;this.$table=$(a);this.mode=this.$table.attr("data-tablenay-mode")||defaultMode;this.init()};f.prototype.init=function(){if(!this.$table.attr("id")){this.$table.attr("id",d+"-"+Math.round(Math.random()*10000))}this.createToolbar();var a=this._initCells();this.$table.trigger(events.create,[this,a])};f.prototype._initCells=function(){var c,thrs=this.table.querySelectorAll("thead tr"),self=this;$(thrs).each(function(){var b=0;$(this).children().each(function(){var a=parseInt(this.getAttribute("colspan"),10),sel=":nth-child("+(b+1)+")";c=b+1;if(a){for(var k=0;k<a-1;k++){b++;sel+=",:nth-child("+(b+1)+")"}}this.cells=self.$table.find("tr").not(thrs[0]).not(this).children().filter(sel);b++})});return c};f.prototype.refresh=function(){this._initCells();this.$table.trigger(events.refresh)};f.prototype.createToolbar=function(){var a=this.$table.prev().filter('.'+classes.toolbar);if(!a.length){a=$('<div>').addClass(classes.toolbar).insertBefore(this.$table)}this.$toolbar=a;if(this.mode){this.$toolbar.addClass('mode-'+this.mode)}};f.prototype.destroy=function(){this.$table.prev().filter('.'+classes.toolbar).each(function(){this.className=this.className.replace(/\bmode\-\w*\b/gi,'')});var a=this.$table.attr('id');$(document).unbind("."+a);$(window).unbind("."+a);this.$table.trigger(events.destroy,[this]);this.$table.removeAttr('data-tablenay-mode');this.$table.removeData(d)};$.fn[d]=function(){return this.each(function(){var a=$(this);if(a.data(d)){return}var b=new f(this);a.data(d,b)})};$(document).on("enhance.tablenay",function(e){if(Tablenay.mustard){$(e.target).find(initSelector)[d]()}})}(jQuery));(function(f,$,g){var h={stackTable:'tablenay-stack',cellLabels:'tablenay-cell-label',cellContentLabels:'tablenay-cell-content'};var i={obj:'tablenay-stack'};var j={labelless:'data-tablenay-no-labels',hideempty:'data-tablenay-hide-empty'};var k=function(a){this.$table=$(a);this.labelless=this.$table.is('['+j.labelless+']');this.hideempty=this.$table.is('['+j.hideempty+']');if(!this.labelless){this.allHeaders=this.$table.find("th")}this.$table.data(i.obj,this)};k.prototype.init=function(c){this.$table.addClass(h.stackTable);if(this.labelless){return}var d=$(this.allHeaders);var e=this.hideempty;d.each(function(){var a=$(this),$cells=$(this.cells).filter(function(){return!$(this).parent().is("["+j.labelless+"]")&&(!e||!$(this).is(":empty"))}),hierarchyClass=$cells.not(this).filter("thead th").length&&" tablenay-cell-label-top",$sortableButton=a.find(".tablenay-sortable-btn"),html=$sortableButton.length?$sortableButton.html():a.html();if(html!==""){if(hierarchyClass){var b=parseInt($(this).attr("colspan"),10),filter="";if(b){filter="td:nth-child("+b+"n + "+(c)+")"}$cells.filter(filter).prepend("<b class='"+h.cellLabels+hierarchyClass+"'>"+html+"</b>")}else{$cells.wrapInner("<span class='"+h.cellContentLabels+"'></span>");$cells.prepend("<b class='"+h.cellLabels+"'>"+html+"</b>")}}})};k.prototype.destroy=function(){this.$table.removeClass(h.stackTable);this.$table.find('.'+h.cellLabels).remove();this.$table.find('.'+h.cellContentLabels).each(function(){$(this).replaceWith(this.childNodes)})};$(document).on("tablenaycreate",function(e,a,b){if(a.mode==='stack'){var c=new k(a.table);c.init(b)}});$(document).on("tablenaydestroy",function(e,a){if(a.mode==='stack'){$(a.table).data(i.obj).destroy()}})}(this,jQuery));(function($){var g="tablenaybtn",methods={_create:function(){return $(this).each(function(){$(this).trigger("beforecreate."+g)[g]("_init").trigger("create."+g)})},_init:function(){var a=$(this),sel=this.getElementsByTagName("select")[0];if(sel){$(this).addClass("btn-select")[g]("_select",sel)}return a},_select:function(e){var f=function(b,c){var d=$(c).find("option"),label,el,children;d.each(function(){var a=this;if(a.selected){label=document.createTextNode(a.text)}});children=b.childNodes;if(d.length>0){for(var i=0,l=children.length;i<l;i++){el=children[i];if(el&&el.nodeType===3){b.replaceChild(label,el)}}}};f(this,e);$(this).bind("change refresh",function(){f(this,e)})}};$.fn[g]=function(d,a,b,c){return this.each(function(){if(d&&typeof(d)==="string"){return $.fn[g].prototype[d].call(this,a,b,c)}if($(this).data(g+"active")){return $(this)}$(this).data(g+"active",true);$.fn[g].prototype._create.call(this)})};$.extend($.fn[g].prototype,methods)}(jQuery));(function(f,$,g){var h=function(a){this.$table=$(a);this.classes={columnToggleTable:'tablenay-columntoggle',columnBtnContain:'tablenay-columntoggle-btnwrap tablenay-advance',columnBtn:'tablenay-columntoggle-btn tablenay-nav-btn down',popup:'tablenay-columntoggle-popup',priorityPrefix:'tablenay-priority-',toolbar:'tablenay-bar'};this.headers=this.$table.find('tr:first > th');this.$table.data('tablenay-coltoggle',this)};h.prototype.init=function(){var b,id,$menuButton,$popup,$menu,$btnContain,self=this;this.$table.addClass(this.classes.columnToggleTable);b=this.$table.attr("id");id=b+"-popup";$btnContain=$("<div class='"+this.classes.columnBtnContain+"'></div>");$menuButton=$("<a href='#"+id+"' class='btn btn-micro "+this.classes.columnBtn+"' data-popup-link>"+"<span>"+Tablenay.i18n.columnBtnText+"</span></a>");$popup=$("<div class='dialog-table-coltoggle "+this.classes.popup+"' id='"+id+"'></div>");$menu=$("<div class='btn-group'></div>");var c=false;$(this.headers).not("td").each(function(){var a=$(this),priority=a.attr("data-tablenay-priority"),$cells=self.$getCells(this);if(priority&&priority!=="persist"){$cells.addClass(self.classes.priorityPrefix+priority);$("<label class='pos-rel'><input type='checkbox' class='ace' checked><span class='lbl'>&nbsp;"+a.text()+"</span></label>").appendTo($menu).children(0).data("tablenay-header",this);c=true}});if(!c){$menu.append('<label>'+Tablenay.i18n.columnsDialogError+'</label>')}$menu.appendTo($popup);$menu.find('input[type="checkbox"]').on("change",function(e){var a=e.target.checked;self.$getCellsFromCheckbox(e.target).toggleClass("tablenay-cell-hidden",!a).toggleClass("tablenay-cell-visible",a);self.$table.trigger('tablenaycolumns')});$menuButton.appendTo($btnContain);$btnContain.appendTo(this.$table.prev().filter('.'+this.classes.toolbar));var d;function openPopup(){$btnContain.addClass('visible');$menuButton.removeClass('down').addClass('up');$(document).unbind('click.'+b,closePopup);window.clearTimeout(d);d=window.setTimeout(function(){$(document).one('click.'+b,closePopup)},15)}function closePopup(a){if(a&&$(a.target).closest("."+self.classes.popup).length){return}$(document).unbind('click.'+b);$menuButton.removeClass('up').addClass('down');$btnContain.removeClass('visible')}$menuButton.on("click.tablenay",function(a){a.preventDefault();if(!$btnContain.is(".visible")){openPopup()}else{closePopup()}});$popup.appendTo($btnContain);this.$menu=$menu;$(window).on("resize."+b,function(){self.refreshToggle()});this.refreshToggle()};h.prototype.$getCells=function(a){return $(a).add(a.cells)};h.prototype.$getCellsFromCheckbox=function(a){var b=$(a).data("tablenay-header");return this.$getCells(b)};h.prototype.refreshToggle=function(){var a=this;this.$menu.find("input").each(function(){this.checked=a.$getCellsFromCheckbox(this).eq(0).css("display")==="table-cell"})};h.prototype.refreshPriority=function(){var b=this;$(this.headers).not("td").each(function(){var a=$(this),priority=a.attr("data-tablenay-priority"),$cells=a.add(this.cells);if(priority&&priority!=="persist"){$cells.addClass(b.classes.priorityPrefix+priority)}})};h.prototype.destroy=function(){this.$table.removeClass(this.classes.columnToggleTable);this.$table.find('th,td').each(function(){var a=$(this);a.removeClass('tablenay-cell-hidden').removeClass('tablenay-cell-visible');this.className=this.className.replace(/\bui\-table\-priority\-\d\b/g,'')})};$(document).on("tablenaycreate",function(e,a){if(a.mode==='columntoggle'){var b=new h(a.table);b.init()}});$(document).on("tablenaydestroy",function(e,a){if(a.mode==='columntoggle'){$(a.table).data('tablenay-coltoggle').destroy()}})}(this,jQuery));(function(h,$,j){$.extend(Tablenay.config,{swipe:{horizontalThreshold:15,verticalThreshold:30}});function isIE8(){var a=document.createElement('div'),all=a.getElementsByTagName('i');a.innerHTML='<!--[if lte IE 8]><i></i><![endif]-->';return!!all.length}function createSwipeTable(f){var g=$("<div class='tablenay-advance'></div>"),$prevBtn=$("<a href='#' class='tablenay-nav-btn btn btn-micro left' title='Lihat kolom sebelumnya'></a>").appendTo(g),$nextBtn=$("<a href='#' class='tablenay-nav-btn btn btn-micro right' title='Lihat kolom selanjutnya'></a>").appendTo(g),hideBtn='disabled',persistWidths='tablenay-fix-persist',$headerCells=f.find("thead th"),$headerCellsNoPersist=$headerCells.not('[data-tablenay-priority="persist"]'),headerWidths=[],$head=$(document.head||'head'),tableId=f.attr('id'),supportsNthChild=!isIE8();if(!$headerCells.length){throw new Error("Tablenay swipe: tidak ada sel header yang ditemukan. Apakah kamu menggunakan <th> bagian dari <thead>?");}f.css('width','auto');$headerCells.each(function(){headerWidths.push($(this).outerWidth())});f.css('width','');g.appendTo(f.prev().filter('.tablenay-bar'));f.addClass("tablenay-swipe");if(!tableId){tableId='tableswipe-'+Math.round(Math.random()*10000);f.attr('id',tableId)}function $getCells(a){return $(a.cells).add(a)}function showColumn(a){$getCells(a).removeClass('tablenay-cell-hidden')}function hideColumn(a){$getCells(a).addClass('tablenay-cell-hidden')}function persistColumn(a){$getCells(a).addClass('tablenay-cell-persist')}function isPersistent(a){return $(a).is('[data-tablenay-priority="persist"]')}function unmaintainWidths(){f.removeClass(persistWidths);$('#'+tableId+'-persist').remove()}function maintainWidths(){var c='#'+tableId+'.tablenay-swipe ',styles=[],tableWidth=f.width(),hash=[],newHash;$headerCells.each(function(a){var b;if(isPersistent(this)){b=$(this).outerWidth();if(b<tableWidth*0.75){hash.push(a+'-'+b);styles.push(c+' .tablenay-cell-persist:nth-child('+(a+1)+'){width: '+b+'px;}')}}});newHash=hash.join('_');f.addClass(persistWidths);var d=$('#'+tableId+'-persist');if(!d.length||d.data('hash')!==newHash){d.remove();if(styles.length){$('<style>'+styles.join("\n")+'</style>').attr('id',tableId+'-persist').data('hash',newHash).appendTo($head)}}}function getNext(){var b=[],checkFound;$headerCellsNoPersist.each(function(i){var a=$(this),isHidden=a.css("display")==="none"||a.is(".tablenay-cell-hidden");if(!isHidden&&!checkFound){checkFound=true;b[0]=i}else if(isHidden&&checkFound){b[1]=i;return false}});return b}function getPrev(){var a=getNext();return[a[1]-1,a[0]-1]}function nextpair(a){return a?getNext():getPrev()}function canAdvance(a){return a[1]>-1&&a[1]<$headerCellsNoPersist.length}function matchesMedia(){var a=f.attr("data-tablenay-swipe-media");return!a||("matchMedia"in h)&&h.matchMedia(a).matches}function fakeBreakpoints(){if(!matchesMedia()){return}var c=20,containerWidth=f.parent().width(),persist=[],sum=0,sums=[],visibleNonPersistantCount=$headerCells.length;$headerCells.each(function(a){var b=$(this),isPersist=b.is('[data-tablenay-priority="persist"]');persist.push(isPersist);sum+=headerWidths[a]+(isPersist?0:c);sums.push(sum);if(isPersist||sum>containerWidth){visibleNonPersistantCount--}});var d=visibleNonPersistantCount===0;$headerCells.each(function(a){if(persist[a]){persistColumn(this);return}if(sums[a]<=containerWidth||d){d=false;showColumn(this)}else{hideColumn(this)}});if(supportsNthChild){unmaintainWidths()}f.trigger('tablenaycolumns')}function advance(a){var b=nextpair(a);if(canAdvance(b)){if(isNaN(b[0])){if(a){b[0]=0}else{b[0]=$headerCellsNoPersist.length-1}}if(supportsNthChild){maintainWidths()}hideColumn($headerCellsNoPersist.get(b[0]));showColumn($headerCellsNoPersist.get(b[1]));f.trigger('tablenaycolumns')}}$prevBtn.add($nextBtn).click(function(e){advance(!!$(e.target).closest($nextBtn).length);e.preventDefault()});function getCoord(a,b){return(a.touches||a.originalEvent.touches)[0][b]}f.bind("touchstart.swipetoggle",function(e){var b=getCoord(e,'pageX'),originY=getCoord(e,'pageY'),x,y;$(h).off("resize",fakeBreakpoints);$(this).bind("touchmove",function(e){x=getCoord(e,'pageX');y=getCoord(e,'pageY');var a=Tablenay.config.swipe;if(Math.abs(x-b)>a.horizontalThreshold&&Math.abs(y-originY)<a.verticalThreshold){e.preventDefault()}}).bind("touchend.swipetoggle",function(){var a=Tablenay.config.swipe;if(Math.abs(y-originY)<a.verticalThreshold){if(x-b<-1*a.horizontalThreshold){advance(true)}if(x-b>a.horizontalThreshold){advance(false)}}window.setTimeout(function(){$(h).on("resize",fakeBreakpoints)},300);$(this).unbind("touchmove touchend")})}).bind("tablenaycolumns.swipetoggle",function(){$prevBtn[canAdvance(getPrev())?"removeClass":"addClass"](hideBtn);$nextBtn[canAdvance(getNext())?"removeClass":"addClass"](hideBtn)}).bind("tablenaynext.swipetoggle",function(){advance(true)}).bind("tablenayprev.swipetoggle",function(){advance(false)}).bind("tablenaydestroy.swipetoggle",function(){var a=$(this);a.removeClass('tablenay-swipe');a.prev().filter('.tablenay-bar').find('.tablenay-advance').remove();$(h).off("resize",fakeBreakpoints);a.unbind(".swipetoggle")});fakeBreakpoints();$(h).on("resize",fakeBreakpoints)}$(document).on("tablenaycreate",function(e,a){if(a.mode==='swipe'){createSwipeTable(a.$table)}})}(this,jQuery));(function($){function getSortValue(c){return $.map(c.childNodes,function(a){var b=$(a);if(b.is('input,select')){return b.val()}else if(b.hasClass('tablenay-cell-label')){return}return $.trim(b.text())}).join('')}var p="tablenay-sortable",initSelector="table[data-"+p+"]",sortableSwitchSelector="[data-"+p+"-switch]",attrs={defaultCol:"data-tablenay-sortable-default-col",numericCol:"data-tablenay-sortable-numeric"},classes={head:p+"-head",ascend:p+"-ascending",descend:p+"-descending",switcher:p+"-switch",tableToolbar:'tablenay-toolbar',sortButton:p+"-btn"},methods={_create:function(o){return $(this).each(function(){var a=$(this).data("init"+p);if(a){return false}$(this).data("init"+p,true).trigger("beforecreate."+p)[p]("_init",o).trigger("create."+p)})},_init:function(){var l=$(this),heads,$switcher;var m=function(){l.addClass(p)},addClassToHeads=function(h){$.each(h,function(i,v){$(v).addClass(classes.head)})},makeHeadsActionable=function(h,a){$.each(h,function(i,v){var b=$("<button class='"+classes.sortButton+"'/>");b.bind("click",{col:v},a);$(v).wrapInner(b)})},clearOthers=function(b){$.each(b,function(i,v){var a=$(v);a.removeAttr(attrs.defaultCol);a.removeClass(classes.ascend);a.removeClass(classes.descend)})},headsOnAction=function(e){if($(e.target).is('a[href]')){return}e.stopPropagation();var a=$(this).parent(),v=e.data.col,newSortValue=heads.index(a);clearOthers(a.siblings());if(a.hasClass(classes.descend)){l[p]("sortBy",v,true);newSortValue+='_asc'}else{l[p]("sortBy",v);newSortValue+='_desc'}if($switcher){$switcher.find('select').val(newSortValue).trigger('refresh')}e.preventDefault()},handleDefault=function(d){$.each(d,function(a,b){var c=$(b);if(c.is("["+attrs.defaultCol+"]")){if(!c.hasClass(classes.descend)){c.addClass(classes.ascend)}}})},addSwitcher=function(i){$switcher=$('<div>').addClass(classes.switcher).addClass(classes.tableToolbar).html(function(){var h=['<label>'+Tablenay.i18n.sort+':'];h.push('&#160;<select style="cursor: pointer" title="Pilih untuk pengurutan data">');i.each(function(j){var a=$(this);var b=a.is("["+attrs.defaultCol+"]");var c=a.hasClass(classes.descend);var d=a.is('[data-sortable-numeric]');var e=0;var f=5;$(this.cells).slice(0,f).each(function(){if(!isNaN(parseInt(getSortValue(this),10))){e++}});var g=e===f;if(!d){a.attr("data-sortable-numeric",g?"":"false")}h.push('<option'+(b&&!c?' selected':'')+' value="'+j+'_asc">'+a.text()+' '+(g?'&#x2191;':'(A-Z)')+'</option>');h.push('<option'+(b&&c?' selected':'')+' value="'+j+'_desc">'+a.text()+' '+(g?'&#x2193;':'(Z-A)')+'</option>')});h.push('</select></label>');return h.join('')});var k=l.prev().filter('.tablenay-bar'),$firstChild=k.children().eq(0);if($firstChild.length){$switcher.insertBefore($firstChild)}else{$switcher.appendTo(k)}$switcher.find('.btn').tablenaybtn();$switcher.find('select').on('change',function(){var a=$(this).val().split('_'),head=i.eq(a[0]);clearOthers(head.siblings());l[p]('sortBy',head.get(0),a[1]==='asc')})};m();heads=l.find("thead th[data-"+p+"-col]");addClassToHeads(heads);makeHeadsActionable(heads,headsOnAction);handleDefault(heads);if(l.is(sortableSwitchSelector)){addSwitcher(heads,l.find('tbody tr:nth-child(-n+3)'))}},getColumnNumber:function(a){return $(a).prevAll().length},getTableRows:function(){return $(this).find("tbody tr")},sortRows:function(f,g,h,j){var k,fn,sorted;var m=function(b){var c=[];$.each(b,function(i,r){var a=$(r).children().get(g);c.push({element:a,cell:getSortValue(a),rowNum:i})});return c},getSortFxn=function(c,d){var e,regex=/[^\-\+\d\.]/g;if(c){e=function(a,b){if(d){return parseFloat(a.cell.replace(regex,''))-parseFloat(b.cell.replace(regex,''))}else{return a.cell.toLowerCase()>b.cell.toLowerCase()?1:-1}}}else{e=function(a,b){if(d){return parseFloat(b.cell.replace(regex,''))-parseFloat(a.cell.replace(regex,''))}else{return a.cell.toLowerCase()<b.cell.toLowerCase()?1:-1}}}return e},applyToRows=function(a,b){var c=[],i,l,cur;for(i=0,l=a.length;i<l;i++){cur=a[i].rowNum;c.push(b[cur])}return c};k=m(f);var n=$(j).data('tablenay-sort');fn=(n&&typeof n==="function"?n(h):false)||getSortFxn(h,$(j).is('[data-sortable-numeric]')&&!$(j).is('[data-sortable-numeric="false"]'));sorted=k.sort(fn);f=applyToRows(sorted,f);return f},replaceTableRows:function(a){var b=$(this),body=b.find("tbody");body.html(a)},makeColDefault:function(b,a){var c=$(b);c.attr(attrs.defaultCol,"true");if(a){c.removeClass(classes.descend);c.addClass(classes.ascend)}else{c.removeClass(classes.ascend);c.addClass(classes.descend)}},sortBy:function(a,b){var c=$(this),colNum,rows;colNum=c[p]("getColumnNumber",a);rows=c[p]("getTableRows");rows=c[p]("sortRows",rows,colNum,b,a);c[p]("replaceTableRows",rows);c[p]("makeColDefault",a,b)}};$.fn[p]=function(a){var b=Array.prototype.slice.call(arguments,1),returnVal;if(a&&typeof(a)==="string"){returnVal=$.fn[p].prototype[a].apply(this[0],b);return(typeof returnVal!=="undefined")?returnVal:$(this)}if(!$(this).data(p+"data")){$(this).data(p+"active",true);$.fn[p].prototype._create.call(this,a)}return $(this)};$.extend($.fn[p].prototype,methods);$(document).on("tablenaycreate",function(e,a){if(a.$table.is(initSelector)){a.$table[p]()}})}(jQuery));(function(f,$,g){var h={attr:{init:'data-tablenay-minimap'}};function createMiniMap(c){var d=$('<div class="tablenay-advance minimap">'),$dotNav=$('<ul class="tablenay-advance-dots">').appendTo(d),hideDot='tablenay-advance-dots-hide',$headerCells=c.find('thead th');$headerCells.each(function(){$dotNav.append('<li><i></i></li>')});d.appendTo(c.prev().filter('.tablenay-bar'));function showMinimap(a){var b=a.attr(h.attr.init);return!b||f.matchMedia&&f.matchMedia(b).matches}function showHideNav(){if(!showMinimap(c)){d.hide();return}d.show();var a=$dotNav.find("li").removeClass(hideDot);c.find("thead th").each(function(i){if($(this).css("display")==="none"){a.eq(i).addClass(hideDot)}})}showHideNav();$(f).on("resize",showHideNav);c.bind("tablenaycolumns.minimap",function(){showHideNav()}).bind("tablenaydestroy.minimap",function(){var a=$(this);a.prev().filter('.tablenay-bar').find('.tablenay-advance').remove();$(f).off("resize",showHideNav);a.unbind(".minimap")})}$(document).on("tablenaycreate",function(e,a){if((a.mode==='swipe'||a.mode==='columntoggle')&&a.$table.is('['+h.attr.init+']')){createMiniMap(a.$table)}})}(this,jQuery));(function(f,$){var S={selectors:{init:'table[data-tablenay-mode-switch]'},attributes:{excludeMode:'data-tablenay-mode-exclude'},classes:{main:'tablenay-modeswitch',toolbar:'tablenay-toolbar'},modes:['stack','swipe','columntoggle'],init:function(b){var c=$(b),ignoreMode=c.attr(S.attributes.excludeMode),$toolbar=c.prev().filter('.tablenay-bar'),modeVal='',$switcher=$('<div>').addClass(S.classes.main+' '+S.classes.toolbar).html(function(){var a=['<label>'+Tablenay.i18n.columns+':'],dataMode=c.attr('data-tablenay-mode'),isSelected;a.push('&#160;<select style="cursor: pointer" title="Pilih mode tampilan kolom">');for(var j=0,k=S.modes.length;j<k;j++){if(ignoreMode&&ignoreMode.toLowerCase()===S.modes[j]){continue}isSelected=dataMode===S.modes[j];if(isSelected){modeVal=S.modes[j]}a.push('<option'+(isSelected?' selected':'')+' value="'+S.modes[j]+'">'+Tablenay.i18n.modes[j]+'</option>')}a.push('</select></label>');return a.join('')});var d=$toolbar.find('.tablenay-advance').eq(0);if(d.length){$switcher.insertBefore(d)}else{$switcher.appendTo($toolbar)}$switcher.find('.btn').tablenaybtn();$switcher.find('select').bind('change',S.onModeChange)},onModeChange:function(){var a=$(this),$switcher=a.closest('.'+S.classes.main),$table=a.closest('.tablenay-bar').nextUntil($table).eq(0),val=a.val();$switcher.remove();$table.data('table').destroy();$table.attr('data-tablenay-mode',val);$table.table()}};$(f.document).on("tablenaycreate",function(e,a){if(a.$table.is(S.selectors.init)){S.init(a.table)}})})(this,jQuery);